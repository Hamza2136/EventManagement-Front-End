// plugins {
//     id "com.android.application"
//     id "kotlin-android"
//     id "dev.flutter.flutter-gradle-plugin"
// }

// android {
//     namespace = "com.example.smart_event_frontend"
//     compileSdk = flutter.compileSdkVersion
//     ndkVersion "25.1.8937393"

//     compileOptions {
//         sourceCompatibility JavaVersion.VERSION_17
//         targetCompatibility JavaVersion.VERSION_17
//     }

//     kotlinOptions {
//         jvmTarget = 17
//     }

//     defaultConfig {
//         applicationId = "com.example.smart_event_frontend"
//         minSdk = flutter.minSdkVersion
//         targetSdk = flutter.targetSdkVersion
//         versionCode = flutter.versionCode
//         versionName = flutter.versionName
//     }

//     buildTypes {
//         release {
//             signingConfig = signingConfigs.debug
//         }
//     }
// }

// flutter {
//     source = "../.."
// }

// configurations.all {
//     resolutionStrategy {
//         force 'javax.annotation:javax.annotation-api:1.3.2'
//     }
// }

// dependencies {
//     implementation 'com.google.errorprone:error_prone_annotations:2.11.0'
//     implementation 'javax.annotation:javax.annotation-api:1.3.2'

//     // Firebase dependencies
//     implementation platform('com.google.firebase:firebase-bom:32.8.0')
//     implementation 'com.google.firebase:firebase-messaging'
// }

// apply plugin: 'com.google.gms.google-services'  // Ensure this is at the bottom


plugins {
    id "com.android.application"
    id "kotlin-android"
    id "dev.flutter.flutter-gradle-plugin"
}

android {
    namespace = "com.example.smart_event_frontend"
    compileSdkVersion 35  // Updated to SDK 33

    ndkVersion "25.1.8937393"

    defaultConfig {
        applicationId = "com.example.smart_event_frontend"
        minSdkVersion 21  // Make sure your minSdkVersion is at least 21
        targetSdkVersion flutter.targetSdkVersion
        versionCode flutter.versionCode
        versionName flutter.versionName
    }

    // Enable core library desugaring for Java 8 features
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8  // Set to Java 8
        targetCompatibility = JavaVersion.VERSION_1_8  // Set to Java 8
        coreLibraryDesugaringEnabled true
    }

    kotlinOptions {
        jvmTarget = "1.8"  // Ensure Kotlin is also targeting Java 8
    }

    // Enable packaging options and disable lint warnings for invalid package
    lintOptions {
        disable 'InvalidPackage'
    }

    packagingOptions {
        pickFirst 'META-INF/gradle/incremental.annotation.processors'
    }

    buildTypes {
        release {
            signingConfig = signingConfigs.debug
            multiDexEnabled true
        }
    }
}

flutter {
    source = "../.."
}

configurations.all {
    resolutionStrategy {
        force 'javax.annotation:javax.annotation-api:1.3.2'
    }
}

dependencies {
    implementation 'com.google.errorprone:error_prone_annotations:2.11.0'
    implementation 'javax.annotation:javax.annotation-api:1.3.2'
    // Firebase dependencies
    implementation platform('com.google.firebase:firebase-bom:32.8.0')
    implementation 'com.google.firebase:firebase-messaging'

    // Add the desugaring library dependency here
    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.1.4'
}

apply plugin: 'com.google.gms.google-services'  // Ensure this is at the bottom
